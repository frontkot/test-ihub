(this["webpackJsonptest-ihub"]=this["webpackJsonptest-ihub"]||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},120:function(e,t,a){},125:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),i=a(34),s=a.n(i),r=(a(109),a(110),a(12)),l=a(10),o=a(24),u=(a(111),a(3)),d=function(e){var t=e.history;return Object(u.jsxs)("div",{className:"page-404",children:[Object(u.jsx)("h2",{children:"404"}),Object(u.jsx)("h3",{children:"Page not found"}),Object(u.jsxs)("div",{className:"button-block",children:[Object(u.jsx)(o.b,{className:"page404-button",onClick:t.goBack,children:"Go back"}),Object(u.jsx)(o.b,{className:"page404-button",to:"/",children:"Go to the home page"})]})]})},j=(a(117),a(13)),b=function(e){return e.allItems.data},p=function(e){return e.allItems.isLoading},f=a(26),h=(a(118),a(16)),m=a.n(h),v=a(27),O=(a(120),"ALL_ITEMS_LOADING"),x="LOAD_ALL_ITEMS",_="ADD_NEW_ITEM",y="TOGGLE_ITEM",N="DELETE_ITEM",g=function(e){return{type:O,payload:e}},w=function(e){return{type:_,payload:e}},k=function(e,t){return{type:y,payload:{newItem:e,id:t}}},D=a(72),S=(D.a.initializeApp({apiKey:"AIzaSyBYIWdex_YmrGYP20rQGyzEX87MDXyw3ko",authDomain:"test-ihub.firebaseapp.com",projectId:"test-ihub",storageBucket:"test-ihub.appspot.com",messagingSenderId:"279374863024",appId:"1:279374863024:web:f3e392561b4d04ec5cf975"}),D.a.firestore()),C=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(k(e,e.id)),t.next=3,S.collection("specialists").doc(e.name).update(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(w(e)),t.next=3,S.collection("specialists").doc(e.name).set(e).then((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e){var t=e.isFavourite,a=e.isDisfavourite,n=e.textContent,c=e.id,i=Object(j.b)(),s=Object(j.c)(b).find((function(e){return e.id===c})),l=s.isFavourite,o=s.isDisfavourite,d=function(){var e=Object(v.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t?(l=!l,o&&(o=!o)):(o=!o,l&&(l=!l)),a=Object(r.a)(Object(r.a)({},s),{},{isFavourite:l,isDisfavourite:o}),i(C(a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("button",{className:t||a?"active__button":"non-active__button",onClick:d,children:n})},T=I;I.defaultTypes={isFavourite:!1,isDisfavourite:!1,textContent:"",id:""};var A=function(e){var t=e.item,a=Object(j.b)(),n=t.name,c=t.email,i=t.isFavourite,s=t.isDisfavourite,r=t.specialty,l=t.id;return Object(u.jsxs)("li",{className:"tab__item",children:[Object(u.jsx)("button",{className:"tab__button--delete",onClick:function(){return a(function(e){return function(){var t=Object(v.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a((n=e.id,{type:N,payload:n})),t.next=3,S.collection("specialists").doc(e.name).delete();case 3:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}),Object(u.jsx)("h3",{className:"tab__header",children:n}),Object(u.jsxs)("p",{className:"tab__par",children:["Specialty: ",r]}),Object(u.jsxs)("p",{className:"tab__par",children:["Email: ",c]}),Object(u.jsxs)("div",{className:"tab__button--container",children:[Object(u.jsx)(T,{id:l,isFavourite:i,textContent:"Favourites"}),Object(u.jsx)(T,{id:l,isDisfavourite:s,textContent:"Disfavourites"})]})]})},E=A;A.defaultProps={item:{}};var L=a(58),P=(a(125),function(e){var t,a=e.items,c=[{label:"All specialists",value:"all"},{label:"Psychologists",value:"psychologist"},{label:"Psychotherapists",value:"psychotherapist"},{label:"Psychiatrists",value:"psychiatrist"}],i=Object(n.useState)(c[0]),s=Object(f.a)(i,2),r=s[0],l=s[1];switch(r.value){case c[1].value:t=a.filter((function(e){return e.specialty===c[1].value}));break;case c[2].value:t=a.filter((function(e){return e.specialty===c[2].value}));break;case c[3].value:t=a.filter((function(e){return e.specialty===c[3].value}));break;default:t=a}var o=t.map((function(e,t){return Object(u.jsx)(E,{item:e},t)}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"specialists__select",children:[Object(u.jsx)("h3",{className:"specialists__select--title",children:"Choose the required specialty"}),Object(u.jsx)(L.a,{type:"text",options:c,defaultValue:r,className:"specialists__select--field",onChange:function(e){return l(e)}})]}),o.length?Object(u.jsx)("ul",{className:"specialists__content",children:o}):Object(u.jsx)("h3",{className:"specialists__empty",children:"Unfortunately, there are no such specialists."})]})}),M=P;P.defaultProps={items:[]};var q=function(e){var t,a=e.content,n=Object(j.c)(b);switch(a){case"favourites":t=n.filter((function(e){return e.isFavourite}));break;case"disfavourites":t=n.filter((function(e){return e.isDisfavourite}));break;default:t=n}var c=t.length?Object(u.jsx)(M,{items:t}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"none-items__header",children:"At the moment there are no specialists"}),Object(u.jsx)(o.b,{className:"none-items__link",to:"/add-specialist",children:"Add a new specialist"})]});return Object(u.jsx)("div",{className:"tab__container",children:c})},G=a(40),B=a(45),R=B.a().shape({name:B.b().required("Required").min(2,"The name is too short!").max(50,"The name is too long!"),email:B.b().email("Invalid email").required("Required"),specialty:B.b().required("Required")}),z=[{value:"psychologist",label:"Psychologist"},{value:"psychotherapist",label:"Psychotherapist"},{value:"psychiatrist",label:"Psychiatrist"}],V=(a(234),function(){var e=Object(j.b)(),t=Object(n.useState)(null),a=Object(f.a)(t,2),c=a[0],i=a[1],s=function(){var t=Object(v.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(r.a)(Object(r.a)({},a),{},{isFavourite:!1,isDisfavourite:!1,id:"".concat(a.name.split(" ").join(""),"-").concat(a.specialty)}),e(F(n)),i(null);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(G.c,{initialValues:{name:"",email:"",specialty:null},validationSchema:R,onSubmit:function(e,t){var a=t.resetForm;s(e),a()},children:function(e){var t=e.errors,a=e.touched,n=e.setFieldValue;e.values;return Object(u.jsxs)(G.b,{className:"add-form__container",children:[Object(u.jsx)("label",{className:"add-form__label",children:"Specialist name"}),Object(u.jsx)(G.a,{type:"text",name:"name",placeholder:"Add specialist name",className:"add-form__input"}),t.name&&a.name?Object(u.jsx)("div",{className:"add-form__error",children:t.name}):null,Object(u.jsx)("label",{className:"add-form__label",children:"Specialty"}),Object(u.jsx)(L.a,{name:"specialty",options:z,placeholder:"Choose specialty",value:c,className:"add-form__select",onChange:function(e){i({label:z.find((function(t){return t.value===e.value})).label,value:e.value}),n("specialty",e.value)}}),t.specialty&&a.specialty?Object(u.jsx)("div",{className:"add-form__error",children:t.specialty}):null,Object(u.jsx)("label",{className:"add-form__label",children:"Specialist email"}),Object(u.jsx)(G.a,{type:"email",name:"email",placeholder:"Add specialist email",label:"Specialist email",className:"add-form__input"}),t.email&&a.email?Object(u.jsx)("div",{className:"add-form__error",children:t.email}):null,Object(u.jsx)(G.a,{type:"submit",name:"submit",value:"Add new specialist to DB",className:"add-form__submit"})]})}})}),W=(a(235),function(e){var t=e.title,a=e.result;return Object(u.jsxs)("div",{className:"analityc__item",children:[Object(u.jsx)("p",{className:"analityc__title",children:t}),Object(u.jsx)("p",{className:"analityc__result",children:a})]})}),Y=function(){var e=Object(j.c)(b),t=e.filter((function(e){return"psychologist"===e.specialty})),a=e.filter((function(e){return"psychotherapist"===e.specialty})),n=e.filter((function(e){return"psychiatrist"===e.specialty})),c=e.filter((function(e){return e.isFavourite})),i=e.filter((function(e){return e.isDisfavourite}));return Object(u.jsxs)("div",{className:"analityc__container",children:[Object(u.jsx)("h2",{className:"analityc__header",children:"Analitycs"}),Object(u.jsxs)("div",{className:"analityc__content",children:[Object(u.jsx)(W,{title:"Total specialists",result:e.length}),Object(u.jsx)(W,{title:"Total psychologist",result:t.length}),Object(u.jsx)(W,{title:"Total psychotherapist",result:a.length}),Object(u.jsx)(W,{title:"Total psychiatrist",result:n.length}),Object(u.jsx)(W,{title:"Total favourites",result:c.length}),Object(u.jsx)(W,{title:"Total disfavourites",result:i.length})]})]})},J=function(){return Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:function(){return Object(u.jsx)(q,{content:"all"})}}),Object(u.jsx)(l.a,{path:"/favourites",exact:!0,component:function(){return Object(u.jsx)(q,{content:"favourites"})}}),Object(u.jsx)(l.a,{exact:!0,path:"/disfavourites",component:function(){return Object(u.jsx)(q,{content:"disfavourites"})}}),Object(u.jsx)(l.a,{exact:!0,path:"/add-specialist",component:V}),Object(u.jsx)(l.a,{exact:!0,path:"/analitycs",component:Y}),Object(u.jsx)(l.a,{path:"*",component:function(e){return Object(u.jsx)(d,Object(r.a)({},e))}})]})},X=(a(236),[{path:"/",textContent:"All Specialists"},{path:"/favourites",textContent:"Favorites Specialists",counter:!0},{path:"/disfavourites",textContent:"Disfavourites Specialists",counter:!0},{path:"/add-specialist",textContent:"Add Specialist"},{path:"/analitycs",textContent:"Analytics"}]),K=function(){var e=Object(j.c)(b),t=e.filter((function(e){return e.isFavourite})).length,a=e.filter((function(e){return e.isDisfavourite})).length,n="header__counter",c=X.map((function(e,c){return Object(u.jsxs)(o.c,{exact:!0,to:e.path,activeStyle:{color:"coral"},className:"header__item",children:[e.textContent,e.counter&&"/favourites"===e.path?t>0&&Object(u.jsx)("span",{className:n,children:t}):"/disfavourites"===e.path?a>0&&Object(u.jsx)("span",{className:n,children:a}):null]},c)}));return Object(u.jsx)("div",{className:"header__bg",children:Object(u.jsx)("div",{className:"header__container",children:Object(u.jsx)("nav",{className:"header__content",children:c})})})},Q=(a(237),function(){return Object(u.jsx)("div",{className:"loader-window",children:Object(u.jsx)("div",{className:"loader"})})}),U=function(){var e=Object(j.b)(),t=Object(j.c)(p);return Object(n.useEffect)((function(){e(function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g(!0)),e.next=3,S.collection("specialists").get();case 3:a=e.sent,t((n=a.docs.map((function(e){return e.data()})),{type:x,payload:n})),t(g(!1));case 6:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(u.jsx)(Q,{}):Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(K,{}),Object(u.jsx)(J,{})]})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,239)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))},Z=a(39),$=a(103),ee=a(18),te={isLoading:!1,data:[]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(r.a)(Object(r.a)({},e),{},{data:t.payload});case O:return Object(r.a)(Object(r.a)({},e),{},{isLoading:t.payload});case _:return Object(r.a)(Object(r.a)({},e),{},{data:[].concat(Object(ee.a)(e.data),[t.payload])});case y:var a=t.payload,n=a.newItem,c=a.id,i=e.data.map((function(e){return e.id===c?n:e}));return Object(r.a)(Object(r.a)({},e),{},{data:i});case N:var s=e.data.filter((function(e){return e.id!==t.payload}));return Object(r.a)(Object(r.a)({},e),{},{data:s});default:return e}},ne=Object(Z.combineReducers)({allItems:ae}),ce=a(104),ie=Object(Z.createStore)(ne,Object($.composeWithDevTools)(Object(Z.applyMiddleware)(ce.a)));s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(j.a,{store:ie,children:Object(u.jsx)(o.a,{children:Object(u.jsx)(U,{})})})}),document.getElementById("root")),H()}},[[238,1,2]]]);
//# sourceMappingURL=main.449cc980.chunk.js.map