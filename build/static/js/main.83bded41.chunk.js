(this["webpackJsonptest-ihub"]=this["webpackJsonptest-ihub"]||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},120:function(e,t,a){},125:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var i=a(2),s=a.n(i),c=a(34),n=a.n(c),r=(a(109),a(110),a(13)),l=a(10),o=a(24),u=(a(111),a(3)),d=function(e){var t=e.history;return Object(u.jsxs)("div",{className:"page-404",children:[Object(u.jsx)("h2",{children:"404"}),Object(u.jsx)("h3",{children:"Page not found"}),Object(u.jsxs)("div",{className:"button-block",children:[Object(u.jsx)(o.b,{className:"page404-button",onClick:t.goBack,children:"Go back"}),Object(u.jsx)(o.b,{className:"page404-button",to:"/",children:"Go to the home page"})]})]})},j=(a(117),a(14)),p=function(e){return e.allItems.data},b=function(e){return e.allItems.isLoading},h=a(26),f=(a(118),a(20)),m=a.n(f),v=a(31),O=(a(120),"ALL_ITEMS_LOADING"),x="LOAD_ALL_ITEMS",y="ADD_NEW_ITEM",_="TOGGLE_ITEM",N=function(e){return{type:O,payload:e}},g=function(e){return{type:y,payload:e}},w=function(e,t){return{type:_,payload:{newItem:e,id:t}}},D=a(72),F=(D.a.initializeApp({apiKey:"AIzaSyBYIWdex_YmrGYP20rQGyzEX87MDXyw3ko",authDomain:"test-ihub.firebaseapp.com",projectId:"test-ihub",storageBucket:"test-ihub.appspot.com",messagingSenderId:"279374863024",appId:"1:279374863024:web:f3e392561b4d04ec5cf975"}),D.a.firestore()),S=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(w(e,e.id)),t.next=3,F.collection("specialists").doc(e.name).update(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(v.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(e)),t.next=3,F.collection("specialists").doc(e.name).set(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){var t=e.isFavourite,a=e.isDisfavourite,i=e.textContent,s=e.id,c=Object(j.b)(),n=Object(j.c)(p).find((function(e){return e.id===s})),l=n.isFavourite,o=n.isDisfavourite,d=function(){var e=Object(v.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t?(l=!l,o&&(o=!o)):(o=!o,l&&(l=!l)),a=Object(r.a)(Object(r.a)({},n),{},{isFavourite:l,isDisfavourite:o}),c(S(a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("button",{className:t||a?"active__button":"non-active__button",onClick:d,children:i})},A=C;C.defaultTypes={isFavourite:!1,isDisfavourite:!1,textContent:"",id:""};var I=function(e){var t=e.name,a=e.email,i=e.isFavourite,s=e.isDisfavourite,c=e.specialty,n=e.id;return Object(u.jsxs)("li",{className:"tab__item",children:[Object(u.jsx)("h3",{className:"tab__header",children:t}),Object(u.jsxs)("p",{className:"tab__par",children:["Specialty: ",c]}),Object(u.jsxs)("p",{className:"tab__par",children:["Email: ",a]}),Object(u.jsxs)("div",{className:"tab__button--container",children:[Object(u.jsx)(A,{id:n,isFavourite:i,textContent:"Favourites"}),Object(u.jsx)(A,{id:n,isDisfavourite:s,textContent:"Disfavourites"})]})]})},T=I;I.defaultProps={className:"",name:"",email:"",specialty:"",isFavourite:!1,isDisfavourite:!1,id:""};var L=a(58),P=(a(125),function(e){var t,a=e.items,s=[{label:"All specialists",value:"all"},{label:"Psychologists",value:"psychologist"},{label:"Psychotherapists",value:"psychotherapist"},{label:"Psychiatrists",value:"psychiatrist"}],c=Object(i.useState)(s[0]),n=Object(h.a)(c,2),r=n[0],l=n[1];switch(r.value){case s[1].value:t=a.filter((function(e){return e.specialty===s[1].value}));break;case s[2].value:t=a.filter((function(e){return e.specialty===s[2].value}));break;case s[3].value:t=a.filter((function(e){return e.specialty===s[3].value}));break;default:t=a}var o=t.map((function(e,t){return Object(u.jsx)(T,{name:e.name,email:e.email,isFavourite:e.isFavourite,isDisfavourite:e.isDisfavourite,specialty:e.specialty,id:e.id},t)}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"specialists__select",children:[Object(u.jsx)("h3",{className:"specialists__select--title",children:"Choose the required specialty"}),Object(u.jsx)(L.a,{type:"text",options:s,defaultValue:r,className:"specialists__select--field",onChange:function(e){return l(e)}})]}),o.length?Object(u.jsx)("ul",{className:"specialists__content",children:o}):Object(u.jsx)("h3",{className:"specialists__empty",children:"Unfortunately, there are no such specialists."})]})}),E=P;P.defaultProps={items:[]};var q=function(e){var t,a=e.content,i=Object(j.c)(p);switch(a){case"favourites":t=i.filter((function(e){return e.isFavourite}));break;case"disfavourites":t=i.filter((function(e){return e.isDisfavourite}));break;default:t=i}var s=t.length?Object(u.jsx)(E,{items:t}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"none-items__header",children:"At the moment there are no specialists"}),Object(u.jsx)(o.b,{className:"none-items__link",to:"/add-specialist",children:"Add a new specialist"})]});return Object(u.jsx)("div",{className:"tab__container",children:s})},G=a(40),M=a(45),B=M.a().shape({name:M.b().required("Required").min(2,"The name is too short!").max(50,"The name is too long!"),email:M.b().email("Invalid email").required("Required"),specialty:M.b().required("Required")}),R=[{value:"psychologist",label:"Psychologist"},{value:"psychotherapist",label:"Psychotherapist"},{value:"psychiatrist",label:"Psychiatrist"}],z=(a(234),function(){var e=Object(j.b)(),t=Object(i.useState)(null),a=Object(h.a)(t,2),s=a[0],c=a[1],n=function(){var t=Object(v.a)(m.a.mark((function t(a){var i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Object(r.a)(Object(r.a)({},a),{},{isFavourite:!1,isDisfavourite:!1,id:"".concat(a.name.split(" ").join(""),"-").concat(a.specialty)}),e(k(i)),c(null);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)(G.c,{initialValues:{name:"",email:"",specialty:null},validationSchema:B,onSubmit:function(e,t){var a=t.resetForm;n(e),a()},children:function(e){var t=e.errors,a=e.touched,i=e.setFieldValue;e.values;return Object(u.jsxs)(G.b,{className:"add-form__container",children:[Object(u.jsx)("label",{className:"add-form__label",children:"Specialist name"}),Object(u.jsx)(G.a,{type:"text",name:"name",placeholder:"Add specialist name",className:"add-form__input"}),t.name&&a.name?Object(u.jsx)("div",{className:"add-form__error",children:t.name}):null,Object(u.jsx)("label",{className:"add-form__label",children:"Specialty"}),Object(u.jsx)(L.a,{name:"specialty",options:R,placeholder:"Choose specialty",value:s,className:"add-form__select",onChange:function(e){c({label:R.find((function(t){return t.value===e.value})).label,value:e.value}),i("specialty",e.value)}}),t.specialty&&a.specialty?Object(u.jsx)("div",{className:"add-form__error",children:t.specialty}):null,Object(u.jsx)("label",{className:"add-form__label",children:"Specialist email"}),Object(u.jsx)(G.a,{type:"email",name:"email",placeholder:"Add specialist email",label:"Specialist email",className:"add-form__input"}),t.email&&a.email?Object(u.jsx)("div",{className:"add-form__error",children:t.email}):null,Object(u.jsx)(G.a,{type:"submit",name:"submit",value:"Add new specialist to DB",className:"add-form__submit"})]})}})}),V=(a(235),function(e){var t=e.title,a=e.result;return Object(u.jsxs)("div",{className:"analityc__item",children:[Object(u.jsx)("p",{className:"analityc__title",children:t}),Object(u.jsx)("p",{className:"analityc__result",children:a})]})}),W=function(){var e=Object(j.c)(p),t=e.filter((function(e){return"psychologist"===e.specialty})),a=e.filter((function(e){return"psychotherapist"===e.specialty})),i=e.filter((function(e){return"psychiatrist"===e.specialty})),s=e.filter((function(e){return e.isFavourite})),c=e.filter((function(e){return e.isDisfavourite}));return Object(u.jsxs)("div",{className:"analityc__container",children:[Object(u.jsx)("h2",{className:"analityc__header",children:"Analitycs"}),Object(u.jsxs)("div",{className:"analityc__content",children:[Object(u.jsx)(V,{title:"Total specialists",result:e.length}),Object(u.jsx)(V,{title:"Total psychologist",result:t.length}),Object(u.jsx)(V,{title:"Total psychotherapist",result:a.length}),Object(u.jsx)(V,{title:"Total psychiatrist",result:i.length}),Object(u.jsx)(V,{title:"Total favourites",result:s.length}),Object(u.jsx)(V,{title:"Total disfavourites",result:c.length})]})]})},Y=function(){return Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:function(){return Object(u.jsx)(q,{content:"all"})}}),Object(u.jsx)(l.a,{path:"/favourites",exact:!0,component:function(){return Object(u.jsx)(q,{content:"favourites"})}}),Object(u.jsx)(l.a,{exact:!0,path:"/disfavourites",component:function(){return Object(u.jsx)(q,{content:"disfavourites"})}}),Object(u.jsx)(l.a,{exact:!0,path:"/add-specialist",component:z}),Object(u.jsx)(l.a,{exact:!0,path:"/analitycs",component:W}),Object(u.jsx)(l.a,{path:"*",component:function(e){return Object(u.jsx)(d,Object(r.a)({},e))}})]})},J=(a(236),[{path:"/",textContent:"All Specialists"},{path:"/favourites",textContent:"Favorites Specialists",counter:!0},{path:"/disfavourites",textContent:"Disfavourites Specialists",counter:!0},{path:"/add-specialist",textContent:"Add Specialist"},{path:"/analitycs",textContent:"Analytics"}]),X=function(){var e=Object(j.c)(p),t=e.filter((function(e){return e.isFavourite})).length,a=e.filter((function(e){return e.isDisfavourite})).length,i="header__counter",s=J.map((function(e,s){return Object(u.jsxs)(o.c,{exact:!0,to:e.path,activeStyle:{color:"coral"},className:"header__item",children:[e.textContent,e.counter&&"/favourites"===e.path?t>0&&Object(u.jsx)("span",{className:i,children:t}):"/disfavourites"===e.path?a>0&&Object(u.jsx)("span",{className:i,children:a}):null]},s)}));return Object(u.jsx)("div",{className:"header__bg",children:Object(u.jsx)("div",{className:"header__container",children:Object(u.jsx)("nav",{className:"header__content",children:s})})})},K=(a(237),function(){return Object(u.jsx)("div",{className:"loader-window",children:Object(u.jsx)("div",{className:"loader"})})}),Q=function(){var e=Object(j.b)(),t=Object(j.c)(b);return Object(i.useEffect)((function(){e(function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0)),e.next=3,F.collection("specialists").get();case 3:a=e.sent,t((i=a.docs.map((function(e){return e.data()})),{type:x,payload:i})),t(N(!1));case 6:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(u.jsx)(K,{}):Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(X,{}),Object(u.jsx)(Y,{})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,239)).then((function(t){var a=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),i(e),s(e),c(e),n(e)}))},H=a(39),Z=a(103),$=a(17),ee={isLoading:!1,data:[]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(r.a)(Object(r.a)({},e),{},{data:t.payload});case O:return Object(r.a)(Object(r.a)({},e),{},{isLoading:t.payload});case y:return Object(r.a)(Object(r.a)({},e),{},{data:[].concat(Object($.a)(e.data),[t.payload])});case _:var a=t.payload,i=a.newItem,s=a.id,c=e.data.map((function(e){return e.id===s?i:e}));return Object(r.a)(Object(r.a)({},e),{},{data:c});default:return e}},ae=Object(H.combineReducers)({allItems:te}),ie=a(104),se=Object(H.createStore)(ae,Object(Z.composeWithDevTools)(Object(H.applyMiddleware)(ie.a)));n.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(j.a,{store:se,children:Object(u.jsx)(o.a,{children:Object(u.jsx)(Q,{})})})}),document.getElementById("root")),U()}},[[238,1,2]]]);
//# sourceMappingURL=main.83bded41.chunk.js.map